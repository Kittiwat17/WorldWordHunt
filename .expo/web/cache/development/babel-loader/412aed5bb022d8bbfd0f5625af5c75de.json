{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { useEffect } from \"react\";\nimport Animated, { Easing } from \"react-native-reanimated\";\nimport { State } from \"react-native-gesture-handler\";\nimport { useConst } from \"./Hooks\";\nvar Value = Animated.Value,\n    cond = Animated.cond,\n    eq = Animated.eq,\n    block = Animated.block,\n    set = Animated.set,\n    Clock = Animated.Clock,\n    spring = Animated.spring,\n    startClock = Animated.startClock,\n    stopClock = Animated.stopClock,\n    timing = Animated.timing,\n    neq = Animated.neq,\n    SpringUtils = Animated.SpringUtils;\nvar defaultSpringConfig = SpringUtils.makeDefaultConfig();\nexport var withTransition = function withTransition(value) {\n  var timingConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var gestureState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Value(State.UNDETERMINED);\n  var clock = new Clock();\n  var state = {\n    finished: new Value(0),\n    frameTime: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n\n  var config = _objectSpread({\n    toValue: new Value(0),\n    duration: 250,\n    easing: Easing.linear\n  }, timingConfig);\n\n  return block([startClock(clock), cond(neq(config.toValue, value), [set(state.frameTime, 0), set(state.time, 0), set(state.finished, 0), set(config.toValue, value), startClock(clock)]), cond(eq(gestureState, State.ACTIVE), [set(state.position, value)], timing(clock, state, config)), cond(state.finished, stopClock(clock)), state.position]);\n};\nexport var withSpringTransition = function withSpringTransition(value) {\n  var springConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultSpringConfig;\n  var velocity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var gestureState = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new Value(State.UNDETERMINED);\n  var clock = new Clock();\n  var state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n\n  var config = _objectSpread({\n    toValue: new Value(0),\n    damping: 15,\n    mass: 1,\n    stiffness: 150,\n    overshootClamping: false,\n    restSpeedThreshold: 1,\n    restDisplacementThreshold: 1\n  }, springConfig);\n\n  return block([startClock(clock), cond(neq(config.toValue, value), [set(state.finished, 0), startClock(clock)]), set(config.toValue, value), cond(eq(gestureState, State.ACTIVE), [set(state.velocity, velocity), set(state.position, value)], spring(clock, state, config)), cond(state.finished, stopClock(clock)), state.position]);\n};\nexport var withTimingTransition = withTransition;\nexport var useTransition = function useTransition(state) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var value = useConst(function () {\n    return new Value(0);\n  });\n  useEffect(function () {\n    value.setValue(typeof state === \"boolean\" ? state ? 1 : 0 : state);\n  }, [value, state]);\n  var transition = useConst(function () {\n    return withTransition(value, config);\n  });\n  return transition;\n};\nexport var useSpringTransition = function useSpringTransition(state) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultSpringConfig;\n  var value = useConst(function () {\n    return new Value(0);\n  });\n  useEffect(function () {\n    value.setValue(typeof state === \"boolean\" ? state ? 1 : 0 : state);\n  }, [value, state]);\n  var transition = useConst(function () {\n    return withSpringTransition(value, config);\n  });\n  return transition;\n};\nexport var useTimingTransition = useTransition;","map":{"version":3,"sources":["Transitions.ts"],"names":["Value","cond","eq","block","set","Clock","spring","startClock","stopClock","timing","neq","SpringUtils","Animated","defaultSpringConfig","withTransition","timingConfig","gestureState","State","clock","state","finished","frameTime","position","time","config","toValue","duration","easing","Easing","withSpringTransition","springConfig","velocity","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","withTimingTransition","useTransition","value","useConst","useEffect","transition","useSpringTransition","useTimingTransition"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\nimport Animated, { Easing } from \"react-native-reanimated\";\nimport { State } from \"react-native-gesture-handler\";\n\nimport { SpringConfig, TimingConfig } from \"./Animations\";\nimport { useConst } from \"./Hooks\";\n\nconst {\n  Value,\n  cond,\n  eq,\n  block,\n  set,\n  Clock,\n  spring,\n  startClock,\n  stopClock,\n  timing,\n  neq,\n  SpringUtils,\n} = Animated;\n\nconst defaultSpringConfig = SpringUtils.makeDefaultConfig();\n\nexport const withTransition = (\n  value: Animated.Node<number>,\n  timingConfig: TimingConfig = {},\n  gestureState: Animated.Value<State> = new Value(State.UNDETERMINED)\n) => {\n  const clock = new Clock();\n  const state = {\n    finished: new Value(0),\n    frameTime: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n  const config = {\n    toValue: new Value(0),\n    duration: 250,\n    easing: Easing.linear,\n    ...timingConfig,\n  };\n  return block([\n    startClock(clock),\n    cond(neq(config.toValue, value), [\n      set(state.frameTime, 0),\n      set(state.time, 0),\n      set(state.finished, 0),\n      set(config.toValue, value),\n      startClock(clock),\n    ]),\n    cond(\n      eq(gestureState, State.ACTIVE),\n      [set(state.position, value)],\n      timing(clock, state, config)\n    ),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ]);\n};\n\nexport const withSpringTransition = (\n  value: Animated.Node<number>,\n  springConfig: SpringConfig = defaultSpringConfig,\n  velocity: Animated.Adaptable<number> = 0,\n  gestureState: Animated.Value<State> = new Value(State.UNDETERMINED)\n) => {\n  const clock = new Clock();\n  const state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n  const config = {\n    toValue: new Value(0),\n    damping: 15,\n    mass: 1,\n    stiffness: 150,\n    overshootClamping: false,\n    restSpeedThreshold: 1,\n    restDisplacementThreshold: 1,\n    ...springConfig,\n  };\n  return block([\n    startClock(clock),\n    cond(neq(config.toValue, value), [\n      set(state.finished, 0),\n      startClock(clock),\n    ]),\n    set(config.toValue, value),\n    cond(\n      eq(gestureState, State.ACTIVE),\n      [set(state.velocity, velocity), set(state.position, value)],\n      spring(clock, state, config)\n    ),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ]);\n};\n\nexport const withTimingTransition = withTransition;\n\nexport const useTransition = (\n  state: boolean | number,\n  config: TimingConfig = {}\n) => {\n  const value: Animated.Value<number> = useConst(() => new Value(0));\n  useEffect(() => {\n    value.setValue(typeof state === \"boolean\" ? (state ? 1 : 0) : state);\n  }, [value, state]);\n  const transition = useConst(() => withTransition(value, config));\n  return transition;\n};\n\nexport const useSpringTransition = (\n  state: boolean | number,\n  config: SpringConfig = defaultSpringConfig\n) => {\n  const value: Animated.Value<number> = useConst(() => new Value(0));\n\n  useEffect(() => {\n    value.setValue(typeof state === \"boolean\" ? (state ? 1 : 0) : state);\n  }, [value, state]);\n\n  const transition = useConst(() => withSpringTransition(value, config));\n  return transition;\n};\n\nexport const useTimingTransition = useTransition;\n"]},"metadata":{},"sourceType":"module"}